{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "deck",
  "title": "Deck",
  "description": "A Deck component that is the core of the presentation",
  "dependencies": [
    "motion"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/slide-cn/deck.tsx",
      "content": "\"use client\";\nimport { useDeckController } from \"@/components/ui/slide-cn/use-deck-controller\";\nimport { useKeyboardNavigation } from \"@/components/ui/slide-cn/use-keyboard-navigation\";\nimport React from \"react\";\nimport { AnimatePresence } from \"motion/react\";\nimport { SlideNav } from \"@/components/ui/slide-cn/slide-nav\";\nimport { cn } from \"@/lib/utils\";\n\nconst DeckContext = React.createContext<ReturnType<\n\ttypeof useDeckController\n> | null>(null);\n\nexport function Deck({ children, className }: { children: React.ReactNode, className?: string }) {\n\tconst slides = React.Children.toArray(children);\n\tconst deck = useDeckController(slides.length);\n\tuseKeyboardNavigation({\n\t\tonNext: deck.next,\n\t\tonPrev: deck.prev\n\t});\n\n\n\treturn (\n\t\t<DeckContext.Provider\n\t\t\tvalue={deck}\n\t\t>\n\t\t\t<div className={cn(\"absolute inset-0 overflow-hidden touch-pan-y md:touch-none h-screen\", className)}>\n\n\t\t\t\t<SlideNav />\n\t\t\t\t<div className=\"absolute inset-0 overflow-y-auto md:overflow-hidden h-full\">\n\t\t\t\t\t<AnimatePresence mode=\"wait\">\n\t\t\t\t\t\t{slides[deck.index]}\n\t\t\t\t\t</AnimatePresence>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t</DeckContext.Provider>\n\t);\n}\n\nexport function useDeck() {\n\tconst ctx = React.useContext(DeckContext);\n\tif (!ctx) throw new Error(\"useDeck must be used inside Deck\");\n\treturn ctx;\n}\n\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/deck.tsx"
    },
    {
      "path": "components/ui/slide-cn/slide.tsx",
      "content": "\"use client\";\nimport React from \"react\";\nimport { motion } from \"motion/react\";\nimport { useDeck } from \"@/components/ui/slide-cn/deck\";\nimport { SlideFooter } from \"@/components/ui/slide-cn/slide-footer\";\n\ntype SlideProps = {\n\tchildren: React.ReactNode;\n\tbackground?: React.ReactNode;\n\tfooter?: React.ReactNode;\n};\n\nexport function Slide({ children, background, footer = <SlideFooter /> }: SlideProps) {\n\tconst deck = useDeck();\n\n\treturn (\n\t\t<motion.div\n\t\t\tdata-slide\n\t\t\tclassName=\"\n        relative w-full h-full\n        overflow-hidden\n        md:absolute md:inset-0\n      \"\n\t\t\texit={{ opacity: 0 }}\n\n\t\t>\n\t\t\t{/* Background layer (viewport-scoped, never scrolls) */}\n\t\t\t{background && (\n\t\t\t\t<div className=\"absolute inset-0 pointer-events-none\">\n\t\t\t\t\t{background}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Scroll layer (mobile scroll lives here) */}\n\t\t\t<motion.div className=\"relative z-10 h-full w-full overflow-y-auto md:overflow-hidden\"\n\t\t\t\tdrag=\"x\"\n\t\t\t\tdragConstraints={{ left: 0, right: 0 }}\n\t\t\t\tdragElastic={0.25}\n\t\t\t\tdragMomentum={false}\n\t\t\t\twhileDrag={{ scale: 1 }}\n\t\t\t\tonDragEnd={(event, info) => {\n\t\t\t\t\tconst swipeDistance = info.offset.x;\n\t\t\t\t\tconst swipeVelocity = info.velocity.x;\n\n\t\t\t\t\tconst DISTANCE_THRESHOLD = 60;\n\t\t\t\t\tconst VELOCITY_THRESHOLD = 600;\n\n\t\t\t\t\tif (Math.abs(info.offset.y) > Math.abs(info.offset.x)) return;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tswipeDistance > DISTANCE_THRESHOLD ||\n\t\t\t\t\t\tswipeVelocity > VELOCITY_THRESHOLD\n\t\t\t\t\t) {\n\t\t\t\t\t\tdeck.prev();\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tswipeDistance < -DISTANCE_THRESHOLD ||\n\t\t\t\t\t\tswipeVelocity < -DISTANCE_THRESHOLD\n\t\t\t\t\t) {\n\t\t\t\t\t\tdeck.next();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"h-full w-full flex flex-col\">\n\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{footer && (\n\t\t\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t\t\t{footer}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</motion.div>\n\t\t</motion.div>\n\t);\n}\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/slide.tsx"
    },
    {
      "path": "components/ui/slide-cn/slide-footer.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useDeck } from \"@/components/ui/slide-cn/deck\";\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport Link from \"next/link\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\n\ntype SlideFooterProps = {\n    className?: string;\n    showProgress?: boolean;\n    showHint?: boolean;\n    showAdd?: boolean;\n};\n\nexport function SlideFooter({\n    className,\n    showProgress = true,\n    showHint = true,\n    showAdd = false,\n}: SlideFooterProps) {\n    const deck = useDeck();\n    const isMobile = useIsMobile();\n\n    // Using grid layout for precise alignment: Left (Progress), Center (Branding), Right (Hint)\n    return (\n        <footer\n            className={cn(\n                \"grid grid-cols-3 items-center gap-4 px-6 py-4 w-full\",\n                \"bg-background/20 backdrop-blur-lg\",\n                \"text-sm font-medium text-muted-foreground transition-colors\",\n                className\n            )}\n        >\n            {/* Left: Progress */}\n            <div className=\"flex justify-start\">\n                {showProgress && (\n                    <span className=\"tabular-nums opacity-75 hover:opacity-100 transition-opacity\">\n                        Slide {deck.index + 1} <span className=\"text-muted-foreground/40 mx-1\">/</span> {deck.total}\n                    </span>\n                )}\n            </div>\n\n            {/* Center: Branding (Optional) */}\n            <div className=\"flex justify-center\">\n                {showAdd && (\n                    <span className=\"opacity-50 hover:opacity-100 transition-opacity flex items-center gap-1.5 text-xs\">\n                        Built with <Link href={\"https://slide-cn.com\"} target=\"_blank\" className=\"font-semibold hover:underline\">Slide-CN</Link>\n                    </span>\n                )}\n            </div>\n\n            {/* Right: Hint */}\n            <div className=\"flex justify-end\">\n                {showHint && (\n                    <span className=\"hidden sm:flex items-center gap-1.5 opacity-50 hover:opacity-100 transition-opacity\">\n                        <span className=\"text-xs uppercase tracking-wider font-semibold\">Navigate</span>\n                        <div className=\"flex items-center gap-0.5 bg-foreground/5 rounded-md px-1 py-0.5\">\n                            <ChevronLeft className=\"w-3 h-3\" />\n                            <ChevronRight className=\"w-3 h-3\" />\n                        </div>\n                    </span>\n                )}\n                {/* Mobile simplified hint */}\n                {showHint && (\n                    <span className=\"sm:hidden opacity-50 text-xs\">\n                        Swipe to nav\n                    </span>\n                )}\n            </div>\n        </footer>\n    );\n}\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/slide-footer.tsx"
    },
    {
      "path": "components/ui/slide-cn/slide-nav.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { useDeck } from \"@/components/ui/slide-cn/deck\";\n\nexport function SlideNav() {\n\tconst deck = useDeck();\n\n\treturn (\n\t\t<>\n\t\t\t{/* LEFT ZONE */}\n\t\t\t<div className=\"hidden md:block pointer-events-none absolute inset-y-0 left-0 w-24\">\n\t\t\t\t<div className=\"group pointer-events-auto h-full w-full flex items-center\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={deck.prev}\n\t\t\t\t\t\tclassName=\"\n\t\t\t\t\t\t\tml-4\n\t\t\t\t\t\t\topacity-0\n\t\t\t\t\t\t\ttransition-opacity\n\t\t\t\t\t\t\tgroup-hover:opacity-100\"\n\t\t\t\t\t>\n\t\t\t\t\t\tPrev\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* RIGHT ZONE */}\n\t\t\t<div className=\"hidden md:block pointer-events-none absolute inset-y-0 right-0 w-24\">\n\t\t\t\t<div className=\"group pointer-events-auto h-full w-full flex items-center justify-end\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={deck.next}\n\t\t\t\t\t\tclassName=\"\n              mr-4\n              opacity-0\n              transition-opacity\n              group-hover:opacity-100\n            \"\n\t\t\t\t\t>\n\t\t\t\t\t\tNext\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/slide-nav.tsx"
    },
    {
      "path": "components/ui/slide-cn/use-deck-controller.ts",
      "content": "\"use client\";\nimport { useCallback, useState } from 'react';\n\nexport function useDeckController(slideCount: number) {\n\tconst [index, setIndex] = useState(0);\n\n\tconst clamp = useCallback(\n\t\t(slideIndex: number) => {\n\t\t\tif (slideIndex < 0) return 0;\n\t\t\tif (slideIndex >= slideCount) return slideCount - 1;\n\t\t\treturn slideIndex;\n\t\t},\n\t\t[slideCount]\n\t);\n\n\tconst next = useCallback(() => {\n\t\tsetIndex((i) => clamp(i + 1));\n\t}, [clamp]);\n\n\tconst prev = useCallback(() => {\n\t\tsetIndex((i) => clamp(i - 1));\n\t}, [clamp]);\n\n\tconst goTo = useCallback(\n\t\t(target: number) => {\n\t\t\tsetIndex(clamp(target));\n\t\t},\n\t\t[clamp]\n\t);\n\n\treturn {\n\t\tindex,\n\t\tnext,\n\t\tprev,\n\t\tgoTo,\n\t\ttotal: slideCount,\n\t};\n}\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/use-deck-controller.ts"
    },
    {
      "path": "components/ui/slide-cn/use-keyboard-navigation.ts",
      "content": "import { useEffect } from \"react\";\n\ntype KeyboardNavigationOptions = {\n\tonNext: () => void;\n\tonPrev: () => void;\n\tdisabled?: boolean;\n};\n\nexport function useKeyboardNavigation({\n\tonNext,\n\tonPrev,\n\tdisabled = false,\n}: KeyboardNavigationOptions) {\n\tuseEffect(() => {\n\t\tif (disabled) return;\n\n\t\tconst handler = (e: KeyboardEvent) => {\n\t\t\t// Ignore key repeat (holding down key)\n\t\t\tif (e.repeat) return;\n\n\t\t\tif (e.key === \"ArrowRight\" || e.key === \" \") {\n\t\t\t\te.preventDefault();\n\t\t\t\tonNext();\n\t\t\t}\n\n\t\t\tif (e.key === \"ArrowLeft\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tonPrev();\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"keydown\", handler);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"keydown\", handler);\n\t\t};\n\t}, [onNext, onPrev, disabled]);\n}\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/use-keyboard-navigation.ts"
    }
  ],
  "type": "registry:component"
}