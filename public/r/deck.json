{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "deck",
  "title": "Deck",
  "description": "A Deck component that is the core of the presenation",
  "dependencies": [
    "motion"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/slide-cn/deck/deck.tsx",
      "content": "\"use client\";\nimport { useDeckController } from \"@components/ui/slide-cn/mechanics/use-deck-controller\";\nimport { useKeyboardNavigation } from \"@components/ui/slide-cn/mechanics/use-keyboard-navigation\";\nimport React from \"react\";\nimport { AnimatePresence } from \"motion/react\";\nimport { SlideNav } from \"@components/ui/slide-cn/slide-nav/slide-nav\";\n\nconst DeckContext = React.createContext<ReturnType<\n\ttypeof useDeckController\n> | null>(null);\n\nexport function Deck({ children }: { children: React.ReactNode }) {\n\tconst slides = React.Children.toArray(children);\n\tconst deck = useDeckController(slides.length);\n\tuseKeyboardNavigation({\n\t\tonNext: deck.next,\n\t\tonPrev: deck.prev\n\t});\n\n\n\treturn (\n\t\t<DeckContext.Provider\n\t\t\tvalue={deck}\n\t\t>\n\t\t\t<div className=\"absolute inset-0 overflow-hidden touch-none\">\n\n\t\t\t\t<SlideNav />\n\t\t\t\t<div className=\"absolute inset-0\">\n\n\t\t\t\t\t<AnimatePresence mode=\"wait\">\n\t\t\t\t\t\t{slides[deck.index]}\n\t\t\t\t\t</AnimatePresence>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t</DeckContext.Provider>\n\t);\n}\n\nexport function useDeck() {\n\tconst ctx = React.useContext(DeckContext);\n\tif (!ctx) throw new Error(\"useDeck must be used inside Deck\");\n\treturn ctx;\n}\n\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/deck/deck.tsx"
    },
    {
      "path": "components/ui/slide-cn/mechanics/use-deck-controller.ts",
      "content": "\"use client\";\nimport { useCallback, useState } from 'react';\n\nexport function useDeckController(slideCount: number) {\n\tconst [index, setIndex] = useState(0);\n\n\tconst clamp = useCallback(\n\t\t(slideIndex: number) => {\n\t\t\tif (slideIndex < 0) return 0;\n\t\t\tif (slideIndex >= slideCount) return slideCount - 1;\n\t\t\treturn slideIndex;\n\t\t},\n\t\t[slideCount]\n\t);\n\n\tconst next = useCallback(() => {\n\t\tsetIndex((i) => clamp(i + 1));\n\t}, [clamp]);\n\n\tconst prev = useCallback(() => {\n\t\tsetIndex((i) => clamp(i - 1));\n\t}, [clamp]);\n\n\tconst goTo = useCallback(\n\t\t(target: number) => {\n\t\t\tsetIndex(clamp(target));\n\t\t},\n\t\t[clamp]\n\t);\n\n\treturn {\n\t\tindex,\n\t\tnext,\n\t\tprev,\n\t\tgoTo,\n\t};\n}\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/mechanics/use-deck-controller.ts"
    },
    {
      "path": "components/ui/slide-cn/mechanics/use-keyboard-navigation.ts",
      "content": "import { useEffect } from \"react\";\n\ntype KeyboardNavigationOptions = {\n\tonNext: () => void;\n\tonPrev: () => void;\n\tdisabled?: boolean;\n};\n\nexport function useKeyboardNavigation({\n\tonNext,\n\tonPrev,\n\tdisabled = false,\n}: KeyboardNavigationOptions) {\n\tuseEffect(() => {\n\t\tif (disabled) return;\n\n\t\tconst handler = (e: KeyboardEvent) => {\n\t\t\t// Ignore key repeat (holding down key)\n\t\t\tif (e.repeat) return;\n\n\t\t\tif (e.key === \"ArrowRight\" || e.key === \" \") {\n\t\t\t\te.preventDefault();\n\t\t\t\tonNext();\n\t\t\t}\n\n\t\t\tif (e.key === \"ArrowLeft\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tonPrev();\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"keydown\", handler);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"keydown\", handler);\n\t\t};\n\t}, [onNext, onPrev, disabled]);\n}\n",
      "type": "registry:component",
      "target": "components/ui/slide-cn/mechanics/use-keyboard-navigation.ts"
    }
  ],
  "type": "registry:component"
}